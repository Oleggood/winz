<i18n>
{
    "ru": {
        "acn_tx1": "–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram",
        "acn_tx2": "–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ E-mail",
        "acn_tx3": "–û –∫–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?",
        "acn_tx4": "–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç",
        "acn_tx5": "–î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ",
        "acn_tx6": "–ö–æ–º—É-—Ç–æ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å (—Å–∫–æ—Ä–æ)",
        "acn_tx7": "ID –¢–µ–ª–µ–≥—Ä–∞–º",
        "acn_tx8": "–ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å ID –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. –£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞–≤ –æ–¥–Ω–æ–º—É –∏–∑ –±–æ—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ–º—É:",
        "acn_tx9": "–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞—à–µ–º—É –±–æ—Ç—É (–æ–Ω —Å—Ç–µ—Å–Ω—è–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–º üòä )",
        "acn_tx10": "E-mail –Ω–µ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ü–∏—Å—å–º–∞ –º–æ–≥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è, –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Å–ø–∞–º, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram",
        "acn_tx11": "–û –∫–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?",
        "acn_tx12": "–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö —Å–æ–±—ã—Ç–∏—è—Ö, —É–∫–∞–∂–∏—Ç–µ, –≤ –∫–∞–∫–∏—Ö <span class='color-red'>—Å—Ç—Ä–∞–Ω–∞—Ö</span> –≤—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤—É–µ—Ç–µ –∏ –∫–∞–∫–æ–π <span class='color-red'>—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
        "acn_tx13": "–º–æ–∏ –¥–∞–Ω–Ω—ã–µ",
        "acn_tx14": "–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è"
    },
    "en": {
        "acn_tx1": "Receive notifications in Telegram",
        "acn_tx2": "Receive notifications on E-mail",
        "acn_tx3": "Choose the type of notifications",
        "acn_tx4": "Published new route",
        "acn_tx5": "Published new event",
        "acn_tx6": "Someone needs help (coming soon)",
        "acn_tx7": "Your Telegram ID",
        "acn_tx8": "Here you need to specify your account ID. You can find out your ID by writing to one of the bots. For example, this:",
        "acn_tx9": "After saving the data, send a message to our bot (he is shy to write first üòä )",
        "acn_tx10": "E-mail is not the most reliable way to deliver notifications. Emails can get lost, get into spam, we recommend enable notifications in Telegram",
        "acn_tx11": "Choose the type of notifications",
        "acn_tx12": "To receive notifications about new routes and events, specify which <span class='color-red'>countries</span> you travel and what <span class='color-red'>transport</span> use on the page",
        "acn_tx13": "my account",
        "acn_tx14": "Private messages"
    }
}

</i18n>
<template>
    <div class="flex flex-wrap">
        <div class="col6 mb20 col12-768">
            <p class="fz16 lh14 mb10">
                <span v-html="$t('acn_tx12')"></span>
                <a class="link link-blue" :href="data_url">{{ $t('acn_tx13') }}</a>
            </p>
            <div class="mb10">
                <block-checkbox :label="$t('acn_tx1')"
                                v-model="localNotification['telegram_enable']">
                </block-checkbox>
            </div>
            <vue-slide-up-down :active="!!localNotification['telegram_enable']" name="slide">
                <div class="mb10">
                    <p class="fz16 lh14 mb10">
                        {{ $t('acn_tx8') }}
                        <a class="link link-blue" target="_blank" href="https://t.me/getmyid_bot">@getmyid_bot</a>
                    </p>
                    <block-input :label="$t('acn_tx7')"
                                 :error="errors['telegram']"
                                 v-model="localNotification['telegram']">
                    </block-input>
                </div>
                <p class="fz16 lh14">
                    {{ $t('acn_tx9') }}
                    <a class="link link-blue" target="_blank" href="https://t.me/tropkaBot">@tropkaBot</a>
                </p>
            </vue-slide-up-down>
            <div>
                <div class="mb10">
                    <block-checkbox :label="$t('acn_tx2')"
                                    v-model="localNotification['email_enable']">
                    </block-checkbox>
                </div>
                <vue-slide-up-down :active="!!localNotification['email_enable']" name="slide">
                    <p class="fz16 lh14">{{ $t('acn_tx10') }}</p>
                </vue-slide-up-down>
            </div>
        </div>
        <div class="col6 mb20 col12-768">
            <p class="mb10 fz17 fw600 lh11 mb10">{{ $t('acn_tx11') }}</p>
            <div class="mb10">
                <block-checkbox :label="$t('acn_tx4')"
                                v-model="localNotification['travel_enable']">
                </block-checkbox>
            </div>
            <div class="mb10">
                <block-checkbox :label="$t('acn_tx5')"
                                v-model="localNotification['event_enable']">
                </block-checkbox>
            </div>
            <div class="mb10 color-gray">
                <block-checkbox :label="$t('acn_tx6')"
                                v-model="localNotification['help_enable']">
                </block-checkbox>
            </div>
            <div>
                <block-checkbox :label="$t('acn_tx14')"
                                v-model="localNotification['message_enable']">
                </block-checkbox>
            </div>
        </div>
        <div class="col12">
            <button @click="save" class="btn">{{ $t('account.acd_tx3') }}</button>
        </div>
    </div>
</template>

<script>
export default {
    name: "FormNotifications",
    props: {
        user_notification: Object
    },
    data() {
        return {
            localNotification: this.user_notification || {},
            errors: {},
            save_url: route('save_notifications'),
            data_url: route('user_data'),
        }
    },
    methods: {
        save() {
            $('.ajax-loader').show();
            let formData = new FormData();
            for (let i in this.localNotification) {
                let val = this.localNotification[i];
                if (val !== null && val !== undefined)
                    formData.append(i, val);
            }
            axios.post(this.save_url, formData, {
                headers: {
                    'Content-Type': 'multipart/form-data'
                }
            })
                .then((response) => {
                    window.formSendResponce(response.data)
                })
                .catch((err) => {
                    this.errors = err.response.data.errors;
                    window.showRequestErrors(err.response);
                });
        }
    }
}
</script>

<style scoped>

</style>
